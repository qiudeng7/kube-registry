# S3 存储配置（必填）
s3:
  region: ""  # 必填：例如 us-east-1
  bucket: ""  # 必填：S3 存储桶名称
  regionEndpoint: ""  # 可选：自定义 S3 endpoint（如 MinIO）

# S3 访问凭证（必填）
s3Credentials:
  accessKeyId: ""  # 必填：AWS_ACCESS_KEY_ID
  secretAccessKey: ""  # 必填：AWS_SECRET_ACCESS_KEY

# Clash 代理配置（可选）
clash:
  enabled: false  # 是否启用 clash 代理
  subscriptionUrl: ""  # 订阅链接，会自动下载配置
  image:
    repository: ghcr.io/qiudeng7/k8s-selfhost-repo/clash-sidecar
    tag: "latest"
    pullPolicy: IfNotPresent
  resources:
    requests:
      memory: "128Mi"
      cpu: "100m"
    limits:
      memory: "256Mi"
      cpu: "200m"

# Webhook 配置
# 如果开启webhook，则会自动改写apiserver收到的所有创建pod的请求，全部通过本仓库进行代理
webhook:
  enabled: false  # 是否启用自动镜像重写 webhook
  image:
    repository: ghcr.io/qiudeng7/k8s-selfhost-repo/zot-webhook-server
    tag: "latest"
    pullPolicy: IfNotPresent
  resources:
    requests:
      memory: "64Mi"
      cpu: "50m"
    limits:
      memory: "128Mi"
      cpu: "100m"

# Zot仓库配置
zot:
  replicaCount: 1

  # 镜像配置
  image:
    repository: ghcr.io/project-zot/zot
    tag: "v2.1.13"
    pullPolicy: IfNotPresent

  # 服务配置
  service:
    type: NodePort
    port: 5000
    nodePort: null

  # 资源限制
  resources:
    requests:
      memory: "512Mi"
      cpu: "250m"
    limits:
      memory: "1Gi"
      cpu: "500m"

